add_namespace = AUSpolitics

#Fall of Freiharr von Bach 
country_event = {
	id = AUSpolitics.1 
	title = AUSpolitics.1.t
	desc = AUSpolitics.1.d
	picture = GFX_report_event_AUS_wien_1
	
	fire_only_once = yes
	
    is_triggered_only = yes 
	
	option = {
		name = AUSpolitics.1.a  #Appoint Gołuchowski - Reform Empire 
		ai_chance = { 
            factor = 60 
            modifier = {
                factor = 100
                is_historical_focus_on = yes
            }
        }
		
			AUS = {
				retire_country_leader = yes
                create_country_leader = {
                    name = "Agenor Gołuchowski"
                    desc = "POLITICS_TEMP_DESC"
                    picture = "Portrait_AUS_Agenor_Goluchwoski.dds"
                    expire = 1875.08.03
                    ideology = despotism 
                }
			}
			custom_effect_tooltip = AUS_tt_appoint_goluchowski	
	}
	
	option = {
		name = AUSpolitics.1.b  #Appoint Archduke Rainier - Absolutism  
		ai_chance = { 
            factor = 40 
            modifier = {
                factor = 0 
                is_historical_focus_on = yes
            }
        }
		    
			AUS = {
				retire_country_leader = yes
                create_country_leader = {
                    name = "Archduke Rainier"
                    desc = "POLITICS_TEMP_DESC"
                    picture = "Portrait_AUS_Archduke_Rainer.dds"
                    expire = 1913.01.27
                    ideology = despotism 
                }
            }		
            custom_effect_tooltip = AUS_tt_appoint_archduke_rainier		
	}
	
}

#Discard the October Dipoma  
country_event = {
	id = AUSpolitics.2 
	title = AUSpolitics.2.t
	desc = AUSpolitics.2.d
	picture = GFX_report_event_AUS_wien_1
	
	fire_only_once = yes
	
    is_triggered_only = yes 
	
	option = {
		name = AUSpolitics.2.a  #Unlocks the February Patent 
		ai_chance = { factor = 100 }
		
	    hidden_effect = {
		AUS = { 
		    set_country_flag = AUS_flag_unlock_October_Diploma # unlock february patent 
            add_to_variable = {
                var = HUN_REVOLT_RISK
                value = 1 
            }
            add_to_variable = {
                var = SLA_REVOLT_RISK
                value = 1 
            }		
		}
		}	
		add_political_power = -100 
		custom_effect_tooltip = AUS_tt_add_hun_revolt_risk
		custom_effect_tooltip = AUS_tt_add_sla_revolt_risk
	}
}

###################
#Liberal Reactions#
###################

country_event = { #Austrian Liberals Protest 
	id = AUSpolitics.3 
	title = AUSpolitics.3.t
	desc = AUSpolitics.3.d
	picture = GFX_report_event_AUS_wien_1
	
	fire_only_once = yes
	
		trigger = {
			tag = AUS 
            focus_progress = {
                focus = AUS_Imprison_Dissenters
                progress > 0.3 
            }			 
		}
	
	option = {
		name = AUSpolitics.3.a  #Arrest them
		ai_chance = { factor = 100 }

			add_political_power = -50
            add_stability = -0.02 			
	}
}

country_event = { #Bohemians Protests stopped  
	id = AUSpolitics.4
	title = AUSpolitics.4.t
	desc = AUSpolitics.4.d
	picture = GFX_report_event_AUS_wien_1
	
	fire_only_once = yes
	
		trigger = {
			tag = AUS 
            focus_progress = {
                focus = AUS_Imprison_Dissenters
                progress > 0.5 
            }			 
		}
	
	option = {
		name = AUSpolitics.4.a  
		ai_chance = { factor = 100 }
		
		AUS = {
            add_to_variable = {
                var = SLA_REVOLT_RISK
                value = 1   
            }
            custom_effect_tooltip = AUS_tt_add_sla_revolt_risk			
		}
	}
}

country_event = { #Hungarian Liberals Angered   
	id = AUSpolitics.5
	title = AUSpolitics.5.t
	desc = AUSpolitics.5.d
	picture = GFX_report_event_AUS_wien_1
	
	fire_only_once = yes
	
		trigger = {
			tag = AUS 
            focus_progress = {
                focus = AUS_Imprison_Dissenters
                progress > 0.8 
            }			 
		}
	
	option = {
		name = AUSpolitics.5.a  
		ai_chance = { factor = 100 }
		
		AUS = {
            add_to_variable = {
                var = HUN_REVOLT_RISK
                value = 1   
            }
            custom_effect_tooltip = AUS_tt_add_hun_revolt_risk			
		}
	}
}

add_namespace = AUSdiplo 

country_event = { #Future of Lombardy Venetia    
	id = AUSdiplo.1
	title = AUSdiplo.1.t
	desc = AUSdiplo.1.d
	picture = GFX_report_event_AUS_wien_1
	
	is_triggered_only = yes 
	
	option = { #Annex only Venetia   
		name = AUSdiplo.1.a
		ai_chance = { factor = 20 }
		
		AUS = {
          transfer_state = 160             
		}
		160 = {
            remove_core_of = LVN  
		}
		LVN = {
		set_cosmetic_tag = LVN_Lombardy
		}
	}

	option = { #Keep the Puppet   
		name = AUSdiplo.1.b 
		ai_chance = { factor = 80 }

	}
	
	option = { #TfV - Give more freedom    
		name = AUSdiplo.1.c 
		ai_chance = { factor = 80 }
		
		if ={
		    limit = {
			    has_dlc = "Together for Victory"
			}
            set_autonomy = {
                target = LVN 
                autonomy_state = puppet
            }			
		}
		else = {
		    AUS = {
			end_puppet = LVN
			}
		}
	}
}

country_event = { #Future of Modena, Parma and Tuscany    
	id = AUSdiplo.2
	title = AUSdiplo.2.t
	desc = AUSdiplo.2.d
	picture = GFX_report_event_AUS_wien_1
	
	is_triggered_only = yes 
	
	option = { #TfV - Make Puppets     
		name = AUSdiplo.2.a 
		ai_chance = { factor = 60 }
		
		if ={
		    limit = {
			    has_dlc = "Together for Victory"
			}
            set_autonomy = {
                target = MOD 
                autonomy_state = puppet
            }	
            set_autonomy = {
                target = PRM 
                autonomy_state = puppet
            }
            set_autonomy = {
                target = TUS  
                autonomy_state = puppet
            }			
		}
		else = {
		    AUS = {
			    puppet = MOD
                puppet = PRM
                puppet = TUS
			}
		}
		
		custom_effect_tooltip = AUS_tt_ITA_league 
		
		hidden_effect = {
		    MOD = {
		        add_ideas = AUS_ITA_Alliance
		        add_opinion_modifier = {
                    target = AUS 
                    modifier = AUS_ITA_League
		        }
            }
		    PRM = {
		        add_ideas = AUS_ITA_Alliance
		        add_opinion_modifier = {
                    target = AUS 
                    modifier = AUS_ITA_League
		        }
            }
	 	    TUS = {
		        add_ideas = AUS_ITA_Alliance
		        add_opinion_modifier = {
                    target = AUS  
                    modifier = AUS_ITA_League
		        }
            }
		    AUS = {
		        add_opinion_modifier = {
                    target = MOD  
                    modifier = AUS_ITA_League
		        }
		        add_opinion_modifier = {
                    target = PRM  
                    modifier = AUS_ITA_League
		        }
		        add_opinion_modifier = {
                    target = TUS  
                    modifier = AUS_ITA_League
		        }		    
		    }
		}
	}
	
	option = { #Status Quo    
		name = AUSdiplo.2.b 
		ai_chance = { factor = 40 }
		
	}
}

country_event = { #Cede Savoy and Nice to France     
	id = AUSdiplo.3
	title = AUSdiplo.3.t
	desc = AUSdiplo.3.d
	picture = GFX_report_event_AUS_wien_1
	
	is_triggered_only = yes 
	
	option = { #Give Savoy and Nice to France      
		name = AUSdiplo.3.a 
		ai_chance = { factor = 60 }
		
		custom_effect_tooltip = AUS_tt_FRA_savoy_nice  
		
		hidden_effect = {
		    FRA = { country_event = AUSdiplo.4 }
		}
	}
	
	option = { #Let Piedmont keep them     
		name = AUSdiplo.3.b 
		ai_chance = { factor = 40 }
		
	}
}

country_event = { #FRA - Savoy and Nice ceded     
	id = AUSdiplo.4
	title = AUSdiplo.4.t
	desc = AUSdiplo.4.d
	picture = GFX_report_event_AUS_wien_1
	
	is_triggered_only = yes 
	
		immediate = {
		    hidden_effect = {
			    if = {
			        limit = {
			     	    OR = {
			     		    tag = PRS 
			     			tag = BEL 
			      			tag = SPR 
			     			tag = ENG 
			      			tag = BAV
			       			tag = PAP
			      			tag = NSC 
					    }
				    }
					    news_event = AUSdiplo.5
				}
		    }
		}
	
	option = { #Give Savoy and Nice to France      
		name = AUSdiplo.4.a 
		ai_chance = { factor = 60 }
		
		custom_effect_tooltip = AUS_tt_ITA_league 
		
		FRA = {
		    transfer_state = 735
			transfer_state = 822 
		}
		735 = { add_core_of = FRA remove_core_of = PIE }
		822 = { add_core_of = FRA remove_core_of = PIE }
	}
}

news_event = { #News event for Savoy ceded      
	id = AUSdiplo.5
	title = AUSdiplo.5.t
	desc = AUSdiplo.5.d 
	picture = GFX_news_event_contain_coalition_vic
	
	is_triggered_only = yes 
	
	option = {      
		name = AUSdiplo.5.a
	}
}

add_namespace = AUSgenerals

country_event = { #Retire Ferenc Gyulay     
	id = AUSgenerals.1
	title = AUSgenerals.1.t
	desc = AUSgenerals.1.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1859.05.15 
		AUS = {
		any_war_score < 2 
		has_war_with = PIE 
		}
	}
	
	option = { #Retire him      
		name = AUSgenerals.1.a 
		ai_chance = { factor = 100 }
		
	    remove_unit_leader = 168305
	}
	
	option = { #Do not Retire him      
		name = AUSgenerals.1.b 
		ai_chance = { factor = 0 }
	
	    AUS = {
		    add_stability = -0.05 
			add_political_power = -50 
		}
	
	}
}

country_event = { #Retire Heinrich von Hess      
	id = AUSgenerals.2
	title = AUSgenerals.2.t
	desc = AUSgenerals.2.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1861.02.15 
	}
	
	option = { #Retire him      
		name = AUSgenerals.2.a 
		ai_chance = { factor = 100 }
		
	    remove_unit_leader = 168306
	}
	
	option = { #Do not Retire him      
		name = AUSgenerals.2.b 
		ai_chance = { factor = 0 }
	
	    AUS = {
			add_command_power = -50   
		}
	
	}
}

country_event = { #Retire Eduard Clam-Gallas       
	id = AUSgenerals.3
	title = AUSgenerals.3.t
	desc = AUSgenerals.3.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1866.08.15 
	}
	
	option = { #Retire him      
		name = AUSgenerals.3.a 
		ai_chance = { factor = 100 }
		
	    remove_unit_leader = 16832
	}
	
	option = { #Do not Retire him      
		name = AUSgenerals.3.b 
		ai_chance = { factor = 0 }
	
	    AUS = {
			add_command_power = -75    
		}
	
	}
}

country_event = { #Make Leopold Gondrecourt Tutor of Rudolf         
	id = AUSgenerals.4
	title = AUSgenerals.4.t
	desc = AUSgenerals.4.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1864.07.15 
	}
	
	option = { #Retire him      
		name = AUSgenerals.4.a 
		ai_chance = { factor = 100 }
		
	    remove_unit_leader = 16833
	}     
}

country_event = { #Retire Leopold Gondrecourt as Tutor        
	id = AUSgenerals.5
	title = AUSgenerals.5.t
	desc = AUSgenerals.5.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1866.08.20  
	}
	
	option = { #Retire him      
		name = AUSgenerals.5.a 
		ai_chance = { factor = 100 }
		
	    AUS = {
            create_corps_commander = {
                name = "Leopold Gondrecourt"
                picture = "Portrait_AUS_Leopold_Gondrecourt.dds"
                traits = { skilled_staffer }
                skill = 3 
                attack_skill = 2 
             	defense_skill = 2
               	planning_skill = 2
             	logistics_skill = 3 
            	id = 16833
		    }
	    }
    }		     
}

country_event = { #Promote Kuhnenfeld as General      
	id = AUSgenerals.6
	title = AUSgenerals.6.t
	desc = AUSgenerals.6.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1863.10.29  
	}
	
	option = { #Make him Major General       
		name = AUSgenerals.6.a 
		ai_chance = { factor = 100 }
		
	    AUS = {
            create_corps_commander = {
            name = "Franz Kuhn von Kuhnenfeld"
            picture = "Portrait_AUS_Franz_von_Kuhnenfeld.dds"
            traits = { trait_mountaineer }
            skill = 3
            attack_skill = 3
	        defense_skill = 2 
	        planning_skill = 3
	        logistics_skill = 2
	        id = 168307
		    }
	    }
    }		     
}

country_event = { #Promote Archduke Wilhelm Franz Karl      
	id = AUSgenerals.7
	title = AUSgenerals.7.t
	desc = AUSgenerals.7.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1864.08.10   
	}
	
	option = { #Make him Major General       
		name = AUSgenerals.7.a 
		ai_chance = { factor = 100 }
		
	    AUS = {
            create_corps_commander = {
            name = "Wilhelm Franz Karl of Austria"
            picture = "Portrait_AUS_Archduke_Wilhelm_Karl_Franz.dds"
            traits = { bearer_of_artillery }
            skill = 2 
            attack_skill = 1 
	        defense_skill = 3 
	        planning_skill = 2 
	        logistics_skill = 2 
	        id = 168308 
		    }
	    }
    }		     
}

country_event = { #Promote Leopold Gondrecout       
	id = AUSgenerals.8
	title = AUSgenerals.8.t
	desc = AUSgenerals.8.d
	picture = GFX_report_event_AUS_austrianarmy_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1864.01.20    
	}
	
	option = { #Make him Major General       
		name = AUSgenerals.8.a 
		ai_chance = { factor = 100 }
		
	    AUS = {
            create_corps_commander = {
                name = "Leopold Gondrecourt"
                picture = "Portrait_AUS_Leopold_Gondrecourt.dds"
                traits = { skilled_staffer }
                skill = 3 
                attack_skill = 2 
             	defense_skill = 2
               	planning_skill = 2
             	logistics_skill = 3 
            	id = 16833
		    }
	    }
    }		     
}


## Habsburg Events 

add_namespace = AUShabsburg

country_event = { #Birth of Archduke Rudolf        
	id = AUShabsburg.1
	title = AUShabsburg.1.t
	desc = AUShabsburg.1.d
	picture = GFX_report_event_AUS_habsburgs_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1858.08.25     
	}
	
	option = { 
		name = AUShabsburg.1.a 
		ai_chance = { factor = 100 }
    }		     
}

country_event = { #Death of Archduchess Sophie         
	id = AUShabsburg.2
	title = AUShabsburg.2.t
	desc = AUShabsburg.2.d
	picture = GFX_report_event_AUS_habsburgs_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1857.05.29     
	}
	
	option = { 
		name = AUShabsburg.2.a 
		ai_chance = { factor = 100 }
    }		     
}

country_event = { #Trip to Hungary          
	id = AUShabsburg.3
	title = AUShabsburg.3.t
	desc = AUShabsburg.3.d
	picture = GFX_report_event_AUS_habsburgs_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		date > 1857.03.29     
	}
	
	option = { 
		name = AUShabsburg.3.a 
		ai_chance = { factor = 100 }
    }		     
}

## Hungary Revolts alternate history

add_namespace = AUShungaryrevolt

country_event = { #Event to warn about the revolution           
	id = AUShungaryrevolt.1
	title = AUShungaryrevolt.1.t
	desc = AUShungaryrevolt.1.d
	picture = GFX_report_event_AUS_Budapest_1
	
	fire_only_once = yes 
	
	trigger = {
	    TAG = AUS
		AUS = {
            check_variable = {
                var = HUN_REVOLT_RISK
                value = 10 
                compare = greater_than_or_equals 
            }
		}     
	}
	
	option = { 
		name = AUShungaryrevolt.1.a 
		ai_chance = { factor = 100 }
		
        country_event = {
            id = AUShungaryrevolt.2
            days = 35
        }		
    }		     
}

country_event = { #Beginning of Revolution           
	id = AUShungaryrevolt.2
	title = AUShungaryrevolt.2.t
	desc = AUShungaryrevolt.2.d
	picture = GFX_report_event_AUS_Budapest_1
	
	fire_only_once = yes 
	
	is_triggered_only = yes 

	immediate = {
	    hidden_effect = {
		    HUN = {
                transfer_state = 43	
                transfer_state = 154
                transfer_state = 155 	
                transfer_state = 664 
                transfer_state = 968 	
                load_oob = "HUN_Revolt"		
                add_ideas = HUN_idea_Revolt 
                set_politics = {
                    parties = {
                        collectivist_socialism = {
                            popularity = 3
                        }
                        social_egalitarianism = {
                            popularity = 10
                        }
                        centrism = {
                            popularity = 42
                        }
                        traditional_conservatism = {
                            popularity = 38 
                        }
                        chauvinist_populism = {
                            popularity = 7
                        }
                        autocracy = {
                            popularity = 0
                        }
                    }
	                ruling_party = centrism
                }
                create_country_leader = {
                name = "Lajos Kossuth"
                desc = "POLITICS_KURT_SCHUSCHNIGG_DESC"
                picture = "Portrait_HUN_Lajos_Kossuth.dds"
                expire = 2000.09.10
                ideology = social_liberal
                }		
                create_country_leader = {
                name = "Ferenc Deák"
                desc = "POLITICS_KURT_SCHUSCHNIGG_DESC"
                picture = "Portrait_HUN_Ferenc_Deak.dds"
                expire = 2000.09.10
                ideology = moderatism
                }				
		    }
			if = {
			    limit = {
				AUS = { has_idea = AUS_hungarian_revolution }
				}
			    remove_ideas = AUS_hungarian_revolution
			}
		    if = {
		        limit = { 
		            check_variable = {
                        var = HUN_REVOLT_RISK
                        value = 11 
                       compare = equals 
                    } 
			    }
			    HUN = {
                    transfer_state = 967
                    transfer_state = 73 
                }			
		    }
		    if = {
		        limit = { 
		            check_variable = {
                        var = HUN_REVOLT_RISK
                        value = 12 
                        compare = equals 
                    } 
			    }
			    HUN = {
                    transfer_state = 967
                    transfer_state = 73 
                    transfer_state = 84 
                    transfer_state = 76  
                }			
		    }    
		    if = {
		        limit = { 
		            check_variable = {
                        var = HUN_REVOLT_RISK
                        value = 13 
                        compare = equals 
                    } 
			    } 
			    HUN = {
                    transfer_state = 967
                    transfer_state = 73 
                    transfer_state = 84 
                    transfer_state = 82 
			        transfer_state = 83  
                    transfer_state = 76  		
                    transfer_state = 45 
                    transfer_state = 743 
                }  			
		    }
		    if = {
		        limit = { 
		            check_variable = {
                        var = HUN_REVOLT_RISK
                        value = 14  
                        compare = greater_than_or_equals 
                    } 
			    }
			    HUN = {
                    transfer_state = 967
                    transfer_state = 73 
                    transfer_state = 84 
                    transfer_state = 76  		
                    transfer_state = 45 
                    transfer_state = 743   	
                    transfer_state = 82  
                    transfer_state = 83 
                    transfer_state = 71  
                    transfer_state = 70 	
                }			
		    }
			HUN = {
		        every_owned_state = {
		            add_core_of = HUN 
	             	remove_core_of = AUS 
		        }
            }			
	    }
	}
	
	
	option = { 
		name = AUShungaryrevolt.2.a #Remain Austria 
		ai_chance = { factor = 100 }
		hidden_effect = {
			news_event = {
			    id = AUSnewshungaryrevolt.1
			    days = 10 
			}		
		}
    }

	option = { 
		name = AUShungaryrevolt.2.b #Play as Hungary  
		ai_chance = { factor = 100 }
		
		hidden_effect = {
				news_event = {
				    id = AUSnews.1
				    days = 10 
				}		
		    HUN = { 
		        country_event = {
                    id = AUShungaryrevolt.3
                    days = 45 
                }
		        change_tag_from = ROOT
				delete_unit_template_and_units = {
                    division_template = "Infanterie Regiment"
					division_template = "Jäger Regiment"
					division_template = "Hussar Regiment"					
                }
            }	
        }
    }
}

country_event = { #Event introducing the player to Hungary            
	id = AUShungaryrevolt.3
	title = AUShungaryrevolt.3.t
	desc = AUShungaryrevolt.3.d
	picture = GFX_report_event_AUS_Budapest_1
	
	fire_only_once = yes 
	
	is_triggered_only = yes 
	
	option = { 
		name = AUShungaryrevolt.3.a 
		ai_chance = { factor = 100 }
				
    }		     
}

add_namespace = AUSnews 

news_event = { #Hungarian Revolt news             
	id = AUSnews.1
	title = AUSnews.1.t
	desc = AUSnews.1.d 
	picture = GFX_report_event_AUS_habsburgs_1
	
	fire_only_once = yes 
	
	is_triggered_only = yes 
	
	major = yes 
	
	option = { 
		name = AUShungaryrevolt.3.a 
		ai_chance = { factor = 100 }		
    }		     
}
